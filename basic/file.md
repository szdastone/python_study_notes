# 文件操作

可以用Python来处理文件，让程序能读取文件内容并进行分析或处理。

#### 文件读取

文本文件可以存储很多信息。当需要分析或修改存储文件中的信息时，就需要先读取文件。读取文件会首先将信息读取到内存中，为此，可一次性读取文件全部内容，也可每次一行的逐步读取。

比如有的写有圆周率的文本。内容忽略，可自动定义，就是有写有圆周率的几行数字吧，比如这个文件叫pi.txt。

```
with open('pi.txt') as f:
	contents = f.read()
	print(contents)
```

注意，使用关键字with，则不需考虑文件关闭，在访问完成后就自动将其关闭了。如果不使用with来打开文件，则需要显式的调用close()来关闭文件。

在打开文件时，并没有指定路径，那Python会在当前目录，也就是你代码保存为py文件所在的路径来查找文件。

可使用绝对路径以及相对路径。绝对路径就是准确指出文件路径，也就是绝对文件路径。相对路径是相对当前py文件所在路径的。同时要注意操作系统，如linux的文件路径为(\\)，为window的文件路径为(/)。

上面代码是一次读取，如要逐行读取，可如下：

```
with open('pi.txt') as f:
	for line in f:
		print(line)
```

读取文件时，Python将其中文本都读取为字符串。如要将其作为数值使用，可使用int()将其转为整数，或使用函数float()将其转为浮点数。

Python可处理大文本。只要内存足够大，多少数据都能处理。

#### 写入文本

要将内容写入到文件，一样调用open()，不过需要指定另一个实参。比如：

```
with open('pi.txt', 'w') as f:

	f.write("3.1415926535")
```

这里介绍下open()函数，第一个实参为文件名称，第二个为操作模式，缺省为'r'，可省略，所以读取时省略了这个实参。这个实参如下：读取模式('r')，写入模式(‘w’)，附件模式('a')，读取和写入模式('r+')。

如要写入文件不存在，则会自动创建它。然后，以写入模式打开文件时如指定文件已经存在了，那么会返回文件对象前清空该文件。

如写入文件内容为多行，必须在每行末尾加上换行符\n。为了格式好看，也可使用空格、制表符、换行符等来设置输出格式。

如果要将文件添加内容，而不是覆盖以前的内容，请以附加模式来打开文件。









